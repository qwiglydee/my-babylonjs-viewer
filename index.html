<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>My3D demo page</title>
        <link rel="stylesheet" href="bootstrap.min.css" />
        <style>
            our-app {
                position: relative;
                display: block;
                overflow: hidden;
            }

            my-babylon {
                width: 100%;
                height: 100%;
                min-height: 720px;
                --my-background-color: var(--bs-dark);
                overflow: hidden;
            }
        </style>
        <script src="src/utils/fullscreen.js"></script>
        <script type="module" src="src/index.js"></script>
    </head>

    <body class="container">
        <h2>Интерактивная 3d визуализация</h2>
        <hr>
        <our-app class="row justify-content-md-center">
            <div class="col mb-3">
                <my-babylon class="border rounded-3" worldSize="32">
                    <my-camera-arc autoSpin autoZoom autoFocus focusFactor="0.5"></my-camera-arc>
                    <my-environ sky skyIntens="0.1" skyBlur="0.75"></my-environ>
                    <my-ground autoSize></my-ground>
                    <my-stuff radius="5" count="3" shuffling></my-stuff>
                </my-babylon>
            </div>
            <div class="col-12 col-md-auto">
                <div class="card bg-primary-subtle mb-3">
                    <div class="card-header">Модель</div>
                    <div class="card-body">менюшки</div>
                </div>
                <div class="card bg-primary-subtle mb-3">
                    <div class="card-header">Расцветка</div>
                    <div class="card-body">менюшки</div>
                </div>
                <div class="card bg-primary-subtle mb-3">
                    <div class="card-header">Комплектация</div>
                    <div class="card-body">менюшки</div>
                </div>
            </div>
        </our-app>
        <hr class="hr" />
        <section>
            <h2>Описание</h2>
        </section>

        <script>
            /* debugging */
            var app = document.querySelector("our-app");
            var my = {
                viewer: document.querySelector("my-viewer"),
                environ: document.querySelector("my-environ"),
                ground: document.querySelector("my-ground"),
                stuff: document.querySelector("my-stuff"),
                camera: document.querySelector("my-camera-arc"),
            };

            my.babylon.addEventListener("babylon.updated", function (e) {
                console.debug(e.type, e.detail);
            });

            my.babylon.addEventListener("babylon.picked", function (e) {
                console.debug(e.type, e.detail);
            });

            my.babylon.addEventListener("babylon.grabbed", function (e) {
                console.debug(e.type, e.detail);
            });

            my.babylon.addEventListener("babylon.dropped", function (e) {
                console.debug(e.type, e.detail);
            });
        </script>

        <script type="module">
            /* debugging */
            import { Vector3, Color3 } from "@babylonjs/core/Maths";
            window.V3 = Vector3;
            window.C3 = Color3;
        </script>
    </body>
</html>
